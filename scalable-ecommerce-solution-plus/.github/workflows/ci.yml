```yaml
name: E-commerce Backend CI/CD

on:
  push:
    branches:
      - main
      - develop
  pull_request:
    branches:
      - main
      - develop

jobs:
  build_and_test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Set up Conan
        uses: conan-io/conan-action/setup@v2
        with:
          version: 1.59.0 # Specify Conan version

      - name: Configure Conan profile
        run: conan profile detect --force

      - name: Create Conan cache (Linux)
        uses: actions/cache@v3
        with:
          path: ~/.conan2
          key: ${{ runner.os }}-conan-${{ hashFiles('conanfile.txt') }}
          restore-keys: |
            ${{ runner.os }}-conan-

      - name: Install Dependencies
        run: conan install . --output-folder=build --build=missing -s build_type=Release

      - name: Configure CMake
        run: cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=./build/conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release

      - name: Build Application
        run: cmake --build build --config Release

      - name: Run Unit Tests
        run: |
          cd build
          ctest --output-on-failure -C Release

      - name: Build Docker Image
        run: docker build -t ecommerce-backend:${{ github.sha }} .

      - name: Log in to Docker Hub (or other registry)
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}

      - name: Push Docker Image
        run: |
          docker tag ecommerce-backend:${{ github.sha }} ${{ secrets.DOCKER_USERNAME }}/ecommerce-backend:latest
          docker tag ecommerce-backend:${{ github.sha }} ${{ secrets.DOCKER_USERNAME }}/ecommerce-backend:${{ github.sha }}
          docker push ${{ secrets.DOCKER_USERNAME }}/ecommerce-backend:latest
          docker push ${{ secrets.DOCKER_USERNAME }}/ecommerce-backend:${{ github.sha }}

  deploy:
    runs-on: ubuntu-latest
    needs: build_and_test
    if: github.ref == 'refs/heads/main' # Deploy only on push to main branch
    environment: production # Use GitHub Environments for secrets
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Set up SSH
        uses: webfactory/ssh-agent@v0.7.0
        with:
          ssh-private-key: ${{ secrets.SSH_PRIVATE_KEY }}

      - name: Deploy to Server
        env:
          SERVER_USER: ${{ secrets.PROD_SSH_USER }}
          SERVER_HOST: ${{ secrets.PROD_SSH_HOST }}
          DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
          DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}
        run: |
          # SSH into the server and run deployment commands
          # This assumes Docker and Docker Compose are installed on the server
          ssh -o StrictHostKeyChecking=no ${SERVER_USER}@${SERVER_HOST} << 'EOF'
            echo "Logging into Docker Hub..."
            docker login -u ${DOCKER_USERNAME} -p ${DOCKER_PASSWORD}

            echo "Pulling latest image..."
            docker pull ${DOCKER_USERNAME}/ecommerce-backend:latest

            echo "Stopping old containers and starting new ones..."
            cd /path/to/your/app/on/server # Adjust this path
            docker-compose down -v --remove-orphans # Remove volumes to ensure fresh DB if needed (be careful in production)
            # You might want to backup existing database data before `down -v` in production
            docker-compose up -d

            echo "Deployment complete!"
          EOF
```